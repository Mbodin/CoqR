{
	"name": "CoqR",
	"version": "1.0",
	"description": "A Coq formalisation of the R programming language",
	"license": "GPL-2.0",
	"esy": {
		"build": "make",
		"buildsInSource": "_build",
		"buildEnv": {
			"COQBIN": "#{@opam/coq.bin}/",
			"COQLIB": "#{@opam/coq.lib}/coq/",
			"COQPATH": "#{coq-flocq.install}/coq:#{coq-prelude.install}/coq"
		}
	},
	"scripts": {
		"run": "make run",
		"run_bisect": "make run_bisect",
		"lrun": "make lrun",
		"lrun_bisect": "make lrun_bisect",
		"report": "make report"
	},
	"dependencies": {
		"ocaml": "^4.4",
		"@opam/ocamlfind": "*",
		"@opam/ocamlbuild": "*",
		"@opam/menhir": "*",
		"@opam/coq": "~8.10",
		"coq-flocq": "2.6.1",
		"coq-paco": "*",
		"@opam/extlib": "*",
		"@opam/bisect": "*",
		"coq-tlc": "*",
		"coq-prelude": "*"
	},
	"resolutions": {
		"coq-tlc": {
			"source": "github:charguer/tlc#a498ee308a4fed960787b5f5b5ba1b6784c85ff8",
			"override": {
				"dependencies": {
						"@opam/coq": ">=8.10"
					},
				"buildEnv": {
					"HOME": "#{self.target_dir}",
					"COQBIN": "#{@opam/coq.bin}/"
				},
				"build": [
						["make"]
					],
				"install": [
						["make", "install"]
					]
			}
		},
		"coq-paco": {
			"source": "github:snu-sf/paco#3b686f0defa71dca3938b95893a24ad7cefea450",
			"override": {
				"dependencies": {
						"@opam/coq": "*"
					},
				"buildEnv": {
					"HOME": "#{self.target_dir}",
					"COQBIN": "#{@opam/coq.bin}/"
				},
				"build": [
						["make", "-C", "src"],
						["make", "-C", "src", "doc"],
						["make", "-C", "src", "install-doc"]
					]
			}
		},
		"coq-flocq": {
			"source": "git:https://gitlab.inria.fr/flocq/flocq.git#c4a5db7d7a018a3c88e51da45b8910aca3e57de1",
			"override": {
				"version": "3.1.2",
				"dependencies": {
					"@opam/coq": ">=8.7",
					"@opam/conf-autoconf": "*",
					"@opam/conf-g++": "*"
				},
				"buildEnv": {
					"HOME": "#{self.target_dir}",
					"COQBIN": "#{@opam/coq.bin}",
					"COQLIB": "#{@opam/coq.lib}/coq/",
					"COQPATH": "#{@opam/coq.lib}/coq/user-contrib/"
				},
				"build": [
					[ "autoconf" ],
					[ "./configure", "--libdir=#{self.install}/coq/Flocq" ],
					[ "./remake", "--jobs=2" ]
				],
				"install": [
					[ "./remake", "install" ]
				]
			}
		},
		"coq-prelude": "github:MBodin/coq-prelude#a8753f4ccfad7bb2f6458dd0e09723189acd5713"
	}
}

