{
  "name": "CoqR",
  "version": "1.0",
  "description": "A Coq formalisation of the R programming language",
  "license": "GPL-2.0",
  "esy": {
    "build": "make build",
    "buildsInSource": "_build"
  },
  "scripts": {
    "run": "make run",
    "run_bisect": "make run_bisect",
    "lrun": "make lrun",
    "lrun_bisect": "make lrun_bisect",
    "report": "make report"
  },
  "dependencies": {
    "ocaml": "4.4.2004",
    "@opam/camlp5": "*",
    "@opam/ocamlfind": "*",
    "@opam/ocamlbuild": "*",
    "@opam/menhir": "*",
    "@opam/coq": "8.6",
    "coq-flocq": "*",
    "coq-paco": "*",
    "@opam/extlib": "*",
    "@opam/bisect": "*"
  },
  "resolutions": {
    "coq-paco": {
      "source": "github:snu-sf/paco#3b686f0defa71dca3938b95893a24ad7cefea450",
      "override": {
        "dependencies": {
            "@opam/coq": "8.6"
          },
        "buildEnv": {
          "COQBIN": "#{@opam/coq.bin}/"
        },
        "build": [
            ["make", "-C", "src"],
            ["make", "-C", "src", "doc"],
            ["make", "-C", "src", "install-doc"]
          ]
        }
    },
    "coq-flocq": {
      "source": "git:git@gitlab.inria.fr:flocq/flocq.git#2ac98b06a4dcda13175d8f8fddab71e1c3ea7573",
      "override": {
         "dependencies": {
            "@opam/coq": "8.6"
          },
        "buildEnv": {
          "COQBIN": "#{@opam/coq.bin}"
        },
        "build": [
            ["./autogen.sh"],
            ["./configure"],
            ["./remake", "--jobs=2"],
            ["./remake", "install"]
          ]
        }
    },
    "@opam/coq": {
      "source": "coq/coq#0d1438851ba3a0b9f76847abc42f3bf8ad26c4cb",
      "override": {
        "build": [
          [
            "./configure",
            "-configdir",
            "#{self.lib}/coq/config",
            "-prefix",
            "#{self.install}",
            "-mandir",
            "#{self.man}",
            "-docdir",
            "#{self.doc}",
            "-libdir",
            "#{self.lib}/coq",
            "-datadir",
            "#{self.share}/coq",
            "-coqide",
            "no"
          ],
          ["make", "-j2"],
          ["make", "install"],
          ["make", "clean"]
        ]
      }
    }
  }
}

